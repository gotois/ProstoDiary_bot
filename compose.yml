version: '3.9'

services:
  app:
    build:
      context: .
      target: build
    container_name: 'secretary-tg'
    platform: linux/arm64
    ports:
      - "6666:6666"
    expose:
      - "6666"
    environment:
      - TELEGRAM_MINI_APP=$TELEGRAM_MINI_APP
      - TELEGRAM_TOKEN=$TELEGRAM_TOKEN
      - TELEGRAM_DOMAIN=$TELEGRAM_DOMAIN
      - TELEGRAM_GATEWAY=$TELEGRAM_GATEWAY
      - SERVER_HOST=http://web-dev:5555
      - SERVER_APP=https://archive.gotointeractive.com
    networks:
      - global_lan

networks:
  global_lan:
    external: true
